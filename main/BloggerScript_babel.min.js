function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var BloggerScript=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this._config=e}return _createClass(t,[{key:"err",value:function(t){return console.log(t),t}},{key:"createRT",value:function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}},{key:"resizeImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return t;var r=/\/(s|w|h)\d{1,4}-((w|s|h)(\d{1,4})+-)?(c{1,2}|p-k-no-nu|rw)/gi,n=/\=(s|w|h)\d{1,4}-((w|s|h)(\d{1,4})+-)?(c{1,2}|p-k-no-nu|rw)/gi,i=/(\/(w|h|s)\d{1,4}\/)/gi,o=/(\=(w|h|s)\d{1,4})$/gi,a=/\-(rw)$/.test(e);return i.test(t)&&(t=t.replace(i,"/s72-c/")),o.test(t)&&(t=t.replace(o,"=s72-c")),a&&(t=t.replace(/\.(gif|jpe?g|tiff?|png|bmp)$/,".webp")),t.match(r)?t.replace(r,"/".concat(e)):t.match(n)?t.replace(n,"=".concat(e)):t}},{key:"shuffle",value:function(t){var e,r,n=t.length;if(0===n)return!1;for(;--n;)e=Math.floor(Math.random()*(n+1)),r=t[n],t[n]=t[e],t[e]=r;return t}},{key:"shuffle2",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"sort",value:function(t,e){if("Update"==e||"Added"==e){var r="Update"==e?"updated":"published";t=t.sort(function(t,e){return t[r]<e[r]?-1:t[r]>e[r]?1:0}).reverse()}else"A-Z"!=e&&"Z-A"!=e||(t=t.sort(function(t,e){return t.title.localeCompare(e.title,void 0,{numeric:!0})}),"Z-A"==e&&(t=t.reverse()));return t}},{key:"xhr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.err,r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){if(4==this.readyState&&200==this.status||304==this.status){var t=this.responseText,r=JSON.parse(t.substring(t.indexOf("{"),t.lastIndexOf("}")+1));e&&e(r)}else 4==this.readyState&&e&&e({})},r.open("GET",t,!0),r.send()}},{key:"xhr2",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.err,r=document.createElement("script"),n="xhr2"+this.createRT(7);return window[n]=function(t){return e(t)},r.src="".concat(t,"&callback=window.").concat(n),r.onerror=function(t){console.log(t),e({})},r.async=!0,(document.body||document.getElementsByTagName("body")[0]).appendChild(r)}},{key:"getId",value:function(t){return t.split("post-")[1]}},{key:"getAuthor",value:function(t){var e={};return"name"in t&&(e.name=t.name.$t),"uri"in t&&(e.uri=t.uri.$t),"gd$image"in t&&"src"in t.gd$image&&-1==t.gd$image.src.indexOf("https://img1.blogblog.com/")?e.image=this.resizeImage(t.gd$image.src,this._config.sizeImage):e.image=this._config.noImage?this.resizeImage(this._config.noImage,this._config.sizeImage):"",e}},{key:"getDefault",value:function(t){var e=this,r=["published","updated","content","summary","title"],n={};return r.forEach(function(r){r in t&&(n[r]=t[r].$t,"published"==r&&(n.date=e.getTime(t[r].$t)))}),n}},{key:"getImage",value:function(t){var e=this._config.noImage?this.resizeImage(this._config.noImage,this._config.sizeImage):"";if("media$thumbnail"in t)return this.resizeImage(t.media$thumbnail.url,this._config.sizeImage);if("content"in t){var r=t.content.$t,n=r.indexOf("<img"),i=r.indexOf('src="',n),o=r.indexOf('"',i+5),a=r.substr(i+5,o-i-5);return-1!=n&&-1!=i&&-1!=o&&""!=a?a:e}return e}},{key:"getTime",value:function(t){if(/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(t)){var e=t,r=e.substring(0,4),n=e.substring(5,7),i=e.substring(8,10),o=new Array;return o[1]="Jan",o[2]="Feb",o[3]="Mar",o[4]="Apr",o[5]="May",o[6]="Jun",o[7]="Jul",o[8]="Aug",o[9]="Sep",o[10]="Oct",o[11]="Nov",o[12]="Dec",i+" "+o[parseInt(n,10)]+" "+r}return!1}},{key:"getFeed",value:function(t){var e=new Array;if(t.feed&&t.feed.entry)for(var r=0;r<t.feed.entry.length;r++){var n=t.feed.entry[r],i=this.getDefault(n);i.id=this.getId(n.id.$t),i.link=n.link.find(function(t){return"alternate"==t.rel}).href,i.image=this.getImage(n),i.label=n.category.map(function(t){return t.term}),"author"in n&&(i.author=this.getAuthor(n.author[0])),e.push(i)}return e}}]),t}(),BloggerRandom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),r.call(this,t)}_inherits(e,t);var r=_createSuper(e);return _createClass(e,[{key:"getTotalResults",value:function(t){var e=t.feed.openSearch$totalResults.$t,r=this._config.jumlah;if(r){if(e<r)return!1;e=this.shuffle2(1,e-r)}else e=e<=150?1:this.shuffle2(1,e-150),r=150;return{"start-index":e,"max-results":r}}},{key:"getItems",value:function(t){if("entry"in t.feed){var e=this.getFeed(t);return e=this.shuffle(e),e}return[]}},{key:"run",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.err,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,i=r?"xhr":"xhr2";n[i]("".concat(t,"?alt=json-in-script&max-results=0"),function(r){var o=n.getTotalResults(r);n[i]("".concat(t,"?alt=json-in-script&start-index=").concat(o["start-index"],"&max-results=").concat(o["max-results"]),function(t){e(n.getItems(t))})})}}]),e}(BloggerScript),BloggerRelated=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),r.call(this,t)}_inherits(e,t);var r=_createSuper(e);return _createClass(e,[{key:"run",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.err,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,i=0,o=document.location.pathname,a=n._config.labels,s=n._config.jumlah,u=r?"xhr":"xhr2";if(n._config.arr=new Array,"undefined"==a||""==a||0==a.length)return e([]);a.forEach(function(r){n[u]("".concat(t,"/-/").concat(r,"?alt=json-in-script&max-results=").concat(s),function(t){var r=n.getFeed(t);if(r.forEach(function(t){n._config.arr.some(function(e){return e.id==t.id})||n._config.arr.push(t)}),i++,i==a.length){if(0==n._config.arr.length)return e([]);var u=n._config.arr.map(function(t){return new URL(t.link).pathname==o}).indexOf(!0);n._config.arr.splice(u,1);var c=n.shuffle(n._config.arr).slice(0,s);return e(c)}})})}}]),e}(BloggerScript),BloggerSitemap=function(t){function e(t){var n;return _classCallCheck(this,e),n=r.call(this,t),n._settings={"start-index":1,"max-results":150,"total-get":0,posts:new Array},n}_inherits(e,t);var r=_createSuper(e);return _createClass(e,[{key:"alphaSort",value:function(t){var e=new Array,r=new Array,n="";for(var i in 0!=t.length&&this.sort(t,"A-Z").forEach(function(t){var r=t.title.charAt(0).toLowerCase();-1==n.indexOf(r)?(n+=r,e[r]=[t]):e[r].push(t)}),e)if(Object.hasOwnProperty.call(e,i)){var o=e[i];r.push({id:i,items:o})}return r}},{key:"run",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.err,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._settings,o=this._config,a=o.order||"updated",s="".concat(t,"?alt=json-in-script&start-index=").concat(i["start-index"],"&max-results=").concat(i["max-results"],"&orderby=").concat(a),u=function(a){if("entry"in a.feed){var s=a.feed.openSearch$totalResults.$t||0;Array.prototype.push.apply(i.posts,e.getFeed(a)),a.feed.entry.length>=i["max-results"]?(i["start-index"]+=i["max-results"],o.firstContent&&1==i["total-get"]&&r(i.posts,i["total-get"],!1,s),e.run(t,r,n)):r(i.posts,i["total-get"],!0,s)}else r(i.posts,i["total-get"],!0,i.posts.length)},c=n?"xhr":"xhr2";i["total-get"]++,this[c](s,u)}}]),e}(BloggerScript),BloggerComments=function(t){function e(t){return _classCallCheck(this,e),r.call(this,t)}_inherits(e,t);var r=_createSuper(e);return _createClass(e,[{key:"getComments",value:function(t){var e=new Array;if(t.feed&&t.feed.entry)for(var r=0;r<t.feed.entry.length;r++){var n=t.feed.entry[r],i=this.getDefault(n);i.id=this.getId(n.id.$t),i.link=n.link.find(function(t){return"alternate"==t.rel}).href,"author"in n&&(i.author=this.getAuthor(n.author[0])),e.push(i)}return e}},{key:"run",value:function(t,e,r,n){var i=this,o=n?"xhr":"xhr2",a=this._config.mainUrl||"",s=this._config.contentType||"default",u=t?"/".concat(t,"/"):"/";this[o]("".concat(a,"/feeds").concat(u,"comments/").concat(s,"?alt=json&max-results=").concat(e),function(t){var e=i.getComments(t);r(e)})}}]),e}(BloggerScript);